<!--Types Bons -->

<div class="main-content">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-6">
          <div class="card ">
            <div class="card-header card-header-info card-header-icon">
              <div class="card-icon">
                <i class="material-icons">search</i>
              </div>
              <h4 class="card-title">Rechercher Employe</h4>
            </div>
            <div class="card-body ">
                <form class="navbar-form">
                    <span class="bmd-form-group">
                      <div class="input-group no-border">
                        <input type="text" name="matricule" class="form-control" placeholder="Matricule" id="matricule" [(ngModel)]="matricule">
                        <button mat-raised-button type="submit" class="btn btn-white btn-round btn-just-icon" >
                          <i class="material-icons">search</i>
                          <div class="ripple-container"></div>
                        </button>
                      </div>
                    </span>

                    <!-- <span class="bmd-form-group">
                        <div class="input-group no-border">
                          <input type="text" value="" class="form-control" placeholder="Reference">
                          <button mat-raised-button type="submit" class="btn btn-white btn-round btn-just-icon">
                            <i class="material-icons">search</i>
                            <div class="ripple-container"></div>
                          </button>
                        </div>
                      </span> -->
                  </form>
            </div>
            
            <!--[disabled]="!searchForm.form.invalid"-->
            <div class="card-footer" > 
              <button mat-raised-button  type="submit" (click)="findByMatricule()" 
               class="btn btn-fill btn-success" >Rechercher</button>
            </div>
           
            <div class="card">
              <div class="card-body" *ngIf ="message">
                  <br>
                  <div class="row">
                     <h4 >l'agent {{message.matricule}} existe !!!</h4><br>
                      <table class="table table-hover" >
                        
                        <thead class="text-primary">
                         
                            <th >Nom</th>
                            <th >Prenom</th>
                            <th >Sexe</th>
                            <th >Matricule</th>
                            <th >Reference</th>
                         
                        </thead>
                        <tbody>
                          <tr >
                            <td >{{message.nom}}</td>
                            <td >{{message.prenom}}</td>
                            <td >{{message.sexe}}</td>
                            <td >{{message.matricule}}</td>
                            <td>{{message.reference}}</td>
                            
                      </tr>
                         </tbody> 
                        </table>

                        <div class="dropup">
                          <button mat-raised-button  class="btn btn-primary btn-round  pull-left" data-toggle="dropdown">Types de  Bons
                              <b class="caret"></b>
                          </button>
                          <ul class="dropdown-menu dropdown-menu-left">
                              <li class="dropdown-header">Différents Bon</li>
                              <li>
                                  <a [routerLink]="['/gestion-bons/Ajouterbons/'+message.idemp]" data-toggle="modal" data-target="#bon_pharmacie">Bon Pharmacie</a>
                              </li>
                              <li>
                                  <a [routerLink]="['/gestion-bons/Ajouterbons/+message.idemp']" data-toggle="modal" data-target="#bon_consultation">Bon Consultation</a>
                              </li>
                              <li>
                                  <a [routerLink]="['/gestion-bons/Ajouterbons/+message.idemp']" data-toggle="modal" data-target="#bon_de_lunetterie"> Bon De Lunetterie </a>
                              </li>
                              <li class="divider"></li>
                              <li>
                                  <a [routerLink]="['/gestion-bons/Ajouterbons/+message.idemp']" data-toggle="modal" data-target="#bon_lettre_de_garantie">Bon Lettre</a>
                              </li>
                          </ul>
                      </div>
                      </div>    
               </div>
              
           </div> 
          </div>
        </div>
        </div>
        </div>
        </div>
<!-- Fin Types Bons -->
<div class="col-md-12">
    <div class="card">
      <div class="card-header">
        <h4 class="card-title">Bon Pharmaceutique</h4>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-4">
            <ul role="tablist" class="nav nav-pills nav-pills-rose flex-column">
              <li class="nav-item"><a data-toggle="tab" href="#link4" role="tablist" class="nav-link active"> Bon Pharmaceutique
                </a>
              </li>
            </ul>
          </div>
          <div class="col-md-8">
            <div class="tab-content">
              <div id="link4" class="tab-pane active">
                <div class="col-md-12">
                  <div class="">
                    
                    <div class="">
                      <div class="table-responsive">
                        <!-- <button mat-raised-button type="button" data-toggle="modal" data-target="#conjoints" class="btn btn-success">Nouveau conjoint</button> -->
                        <form class="form-horizontal">
                          <input type="hidden" class="form-control" >
                          <div class="form-group row card-header">
                            <div class="card-header card-header-icon card-header-info"  class="btn-btn primary">
                        
                        
                          <div class="col-md-6 form-group">
                          <div class="form-group">
                            <label class="bmd-label-floating">Prénom :</label>
                            {{message.prenom}} 
                          </div>
                        </div>
                        <div class="col-md-6 form-group">
                          <div class="form-group">
                            <label class="bmd-label-floating"> Nom:</label>
                             {{message.nom}}
                          </div>
                        </div>
                            <div class="col-md-6 form-group">
                              <div class="form-group">
                                <label class="bmd-label-floating">Matricule:</label>  
                                {{message.matricule}}        
                             </div>
                            </div>
                            <div class="col-md-6 form-group">
                              <div class="form-group">
                                <label class="bmd-label-floating">Numero Carnet:</label>  
                                {{message.idemp}}        
                             </div>
                            </div>
                            <div class="col-md-6 form-group">
                              <div class="form-group">
                                <label class="bmd-label-floating">Services:</label>  
                                {{message.ipm_service?.type_service}}        
                             </div>
                            </div>
                            </div>
                           
                            <div class="col-md-6 form-group">
                              <div class="form-group">
                              <label>Nombre_D'Article</label>
                              {{ bon.nombre_article}}   
                          </div>
                          <div class="col-md-6 form-group">
                            <div class="form-group">
                            <label>Nombre_D'Article</label>
                            {{ bon.nombre_article}}   
                        </div>
                           <!-- <div class="col-md-6 form-group">
                            <p>{{today | date:'dd-MM-yyyy hh:mm:ss a':'+0530'}}</p> 
                           </div> -->
                           <div class="col-md-6 form-group">
                            <label>Quantite</label>
                          <input type="text" class="form-control" id="quantite" [(ngModel)]="bon.quantite" name="quantite">
                        </div>
                        <div class="col-md-6 form-group">
                          <label>Designation</label>
                        <input type="text" class="form-control" id="designation" [(ngModel)]="bon.designation" name="designation">
                      </div>
                      <div class="col-md-6 form-group">
                        <label>Date de Naissance</label>
                      <input type="date" class="form-control" id="date_naissance" [(ngModel)]="bon.designation" name="date_naissance">
                    </div>
                    <div class="col-md-6 form-group">
                      <label>Lieu de Naissance</label>
                    <input type="text" class="form-control" id="lieu_naissance" [(ngModel)]="bon.designation" name="designation">
                  </div>
                      <label>Malade</label>
                
                      <mat-form-field appearance="fill"> 
                        <mat-select placeholder="Choisir Conjoints"  name="conjoints"> 
                          <mat-option *ngFor="let conjoint of conjoints"  [value]="conjoint.nom_conjoint"  [value]="conjoint.prenom_conjoint">
                           {{ conjoint.prenom_conjoint}}   {{ conjoint.nom_conjoint}}  
                          </mat-option>
                        </mat-select>
                    </mat-form-field>
      
                   
                      <mat-form-field appearance="fill"> 
                        <mat-select placeholder="Choisir Enfants" name="enfant"> 
                          <mat-option *ngFor="let enfant of enfants" >
                           {{ enfant.prenom_enfant}}   {{ enfant.nom_conjoint}}  
                          </mat-option>
                        </mat-select> 
                    </mat-form-field> 
                
                    <div class="col-md-6 form-group">
                      <mat-form-field>
                        <mat-select placeholder="Prestataires" name="prestataire">
                          <mat-option *ngFor="let pres of prestataire" [value]="pres.code_categorie_pretataire">
                            {{ pres.nom_prestataire }}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>   
                    </div>
                          </div>
                             <div class="card-body table-full-width">
                              <div class="table-responsive">
                                  <table class="table table-hover">
                                      <thead class="text-primary">
                                          <tr>
                                            <th>Code_Remb, 64800</th>
                                            <th>Matricule</th>
                                            <th>Quantite</th>
                                            <th >Designation</th>
                                            <th >P.Unitaire</th>
                                            <th >Total</th>
                                          </tr>
                                      </thead>
                                      <tbody >
                                            <tr *ngFor=" let bon of bons">
                                                <td>{{bon.code_remb_64800}}</td>
                                                <td >{{bon.code_p_non_Remb_64801}}</td>
                                                <td >{{bon.quantite}}</td>
                                                <td >{{bon.designation}}</td>
                                                <td >{{bon.prix_unitaire}}</td>
                                                <td>{{bon.total}}</td>
                                                <!-- <td >{{employe.lieu_nais}}</td>
                                                <td >{{employe.telephone}}</td>
                                                <td >{{employe.date_recrutement}}</td>
                                                <td >{{employe.matricule}}</td>
                                                <td>{{employe.reference}}</td>
                                                <td >{{employe.numero_carnet}}</td>
                                                <td >{{employe.situation_familial}}</td>
                                                <td >{{employe.solde}}</td>
                                                <td >{{employe.cumul_charge}}</td>
                                                <td >{{employe.niveau_salarial}}</td> -->
                                                <!-- <td>
                                                  <a  class="btn btn-success" [routerLink]="['/gestion-employes/ModifierEmployes/'+employe.idemp]">
                                                      Modifier
                                                  </a>
                                                </td>
                                                <td>
                                                  <a  class="btn btn-danger" (click)="supprimerEmploye(employe)">
                                                      supprimer
                                                  </a>
                                                </td> -->
                                             
                                          <!-- </tr>
                                          <button mat-raised-button type="button" class="btn btn-info">
                                            <i class="bi bi-download" (click)="upload()">Telecharger</i>
                                        </button>-->
                                      </tbody>
                                    
                                  </table>
                                 
                                  </div>
                                  </div> 
                                  <div class="modal-footer justify-content-center">
                                    <button mat-raised-button type="button" class="btn btn-info btn-round"
                                    data-toggle="modal" data-target="#ModalDeRecu" (click)="BonNow()">Enregistrer Bon Pharmaceutique</button>
                                  </div>
                           <div> 
                            <!-- <h4>{{message}} </h4> -->
                          </div>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
        </div>
      </div>
    </div> 



<!-- modal du recu -->
    <div class="modal fade bd-example-modal-xl" id="ModalDeRecu" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="col-6">
      <div class="modal-dialog modal-xl">
        <div class="modal-content">
          <!-- <button mat-button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="material-icons">clear</i></button> -->

              <!-- <div class="row" style="border: 0.1em solid red;"> -->
                <div class="modal-header">
            <!-- <div class="col ml-auto mr-auto"> -->
              <div class="col text-center">
                <img class="image-de-la-poste" alt="Responsive image" src="/assets/img_poste/laposte.png" height="50px" width="50px">
              </div>
                <!-- </div> -->
          <!-- <div class="col ml-auto mr-auto"> -->
            <div class="col text-center">
              <h5>Reçu Demande &#8470;34</h5>
              <h6>Date du : 12/78/2022</h6>
            </div>
          <!-- </div> -->
          <!-- <div class="col ml-auto mr-auto"> -->
          <div class="col text-right">
            <h6>Agent : Kor Keba</h6>
            <h6>Bureau :56</h6>
          </div>
        <!-- </div> -->
      </div>
          <!-- </div> -->

      
         
          <div class="row">

          </div>
    </div>
  </div>


</div>

</div>
</div>
</div>